{"version":3,"file":"inline.js","names":["module","exports","content","workerConstructor","workerOptions","url","globalScope","self","window","blob","Blob","e","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","URL","webkitURL","objectURL","createObjectURL","worker","revokeObjectURL","concat","encodeURIComponent","Error"],"sourceRoot":"../../src/cheap/build/webpack/cheap-worker-loader/src","sources":["../../src/runtime/inline.js"],"sourcesContent":["/* eslint-env browser */\n/* eslint-disable no-undef, no-use-before-define, new-cap */\n\nmodule.exports = (content, workerConstructor, workerOptions, url) => {\n  const globalScope = self || window;\n  try {\n    try {\n      let blob;\n\n      try {\n        // New API\n        blob = new globalScope.Blob([content]);\n      } catch (e) {\n        // BlobBuilder = Deprecated, but widely implemented\n        const BlobBuilder =\n          globalScope.BlobBuilder ||\n          globalScope.WebKitBlobBuilder ||\n          globalScope.MozBlobBuilder ||\n          globalScope.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      }\n\n      const URL = globalScope.URL || globalScope.webkitURL;\n      const objectURL = URL.createObjectURL(blob);\n      const worker = new globalScope[workerConstructor](\n        objectURL,\n        workerOptions\n      );\n\n      URL.revokeObjectURL(objectURL);\n\n      return worker;\n    } catch (e) {\n      return new globalScope[workerConstructor](\n        `data:application/javascript,${encodeURIComponent(content)}`,\n        workerOptions\n      );\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error(\"Inline worker is not supported\");\n    }\n\n    return new globalScope[workerConstructor](url, workerOptions);\n  }\n};\n"],"mappings":";;AAAA;AACA;;AAEAA,MAAM,CAACC,OAAO,GAAG,UAACC,OAAO,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,GAAG,EAAK;EACnE,IAAMC,WAAW,GAAGC,IAAI,IAAIC,MAAM;EAClC,IAAI;IACF,IAAI;MACF,IAAIC,IAAI;MAER,IAAI;QACF;QACAA,IAAI,GAAG,IAAIH,WAAW,CAACI,IAAI,CAAC,CAACR,OAAO,CAAC,CAAC;MACxC,CAAC,CAAC,OAAOS,CAAC,EAAE;QACV;QACA,IAAMC,WAAW,GACfN,WAAW,CAACM,WAAW,IACvBN,WAAW,CAACO,iBAAiB,IAC7BP,WAAW,CAACQ,cAAc,IAC1BR,WAAW,CAACS,aAAa;QAE3BN,IAAI,GAAG,IAAIG,WAAW,CAAC,CAAC;QAExBH,IAAI,CAACO,MAAM,CAACd,OAAO,CAAC;QAEpBO,IAAI,GAAGA,IAAI,CAACQ,OAAO,CAAC,CAAC;MACvB;MAEA,IAAMC,GAAG,GAAGZ,WAAW,CAACY,GAAG,IAAIZ,WAAW,CAACa,SAAS;MACpD,IAAMC,SAAS,GAAGF,GAAG,CAACG,eAAe,CAACZ,IAAI,CAAC;MAC3C,IAAMa,MAAM,GAAG,IAAIhB,WAAW,CAACH,iBAAiB,CAAC,CAC/CiB,SAAS,EACThB,aACF,CAAC;MAEDc,GAAG,CAACK,eAAe,CAACH,SAAS,CAAC;MAE9B,OAAOE,MAAM;IACf,CAAC,CAAC,OAAOX,CAAC,EAAE;MACV,OAAO,IAAIL,WAAW,CAACH,iBAAiB,CAAC,gCAAAqB,MAAA,CACRC,kBAAkB,CAACvB,OAAO,CAAC,GAC1DE,aACF,CAAC;IACH;EACF,CAAC,CAAC,OAAOO,CAAC,EAAE;IACV,IAAI,CAACN,GAAG,EAAE;MACR,MAAMqB,KAAK,CAAC,gCAAgC,CAAC;IAC/C;IAEA,OAAO,IAAIpB,WAAW,CAACH,iBAAiB,CAAC,CAACE,GAAG,EAAED,aAAa,CAAC;EAC/D;AACF,CAAC"}